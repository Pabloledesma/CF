/**************************************************************************************************************
* Avanxo 
* @author           Luis Arismendy href = larismendy@avanxo.com
* Proyect:          Credifamilia
* Description:      Clase de prueba para CheckParentUpdate_cls
*
* Changes (Version)
* -------------------------------------
*           No.     Fecha           Autor                   Descripci√≥n
*           -----   ----------      --------------------    ---------------
* @version   1.0    24/11/2015      Luis Arismendy            Class created
/*************************************************************************************************************/
@isTest (SeeAllData=true)
private class CheckParentUpdate_tst {

    static testMethod void myUnitTest() 
    {
		String strQuery = 'SELECT Asignacion_de_cupo__c,Aux_de_alimentacion_codeudor1__c,Aux_de_alimentacion_codeudor2__c,Aux_de_alimentacion_codeudor3__c,Aux_de_alimentacion__c,Calificacion2_codeudor1__c,Calificacion2_prestamo_codeudor1__c,Calificacion2_prestamo_deudor__c,Calificacion2_sector_real_codeudor1__c,Calificacion2_sector_real_deudor__c,Calificacion2__c,Calificacion_codeudor1__c,Calificacion_codeudor2__c,Calificacion_codeudor3__c,Calificacion_prestamo_codeudor1__c,Calificacion_prestamo_codeudor2__c,Calificacion_prestamo_codeudor3__c,Calificacion_prestamo__c,Calificacion_sector_real_codeudor1__c,Calificacion_sector_real_codeudor2__c,Calificacion_sector_real_codeudor3__c,Calificacion_sector_real__c,Calificacion__c,cambio_de_condiciones__c,Cliente_deudor__c,Codeudor_1__c,Codeudor_2__c,Codeudor_3__c,Concepto_de_analisis__c,Costos_y_gastos_actividad_codeudor1__c,Costos_y_gastos_actividad_codeudor2__c,Costos_y_gastos_actividad_codeudor3__c,Costos_y_gastos_actividad_principal__c,Cuota_credito_solicitado_codeudor1__c,Cuota_credito_solicitado_codeudor2__c,Cuota_credito_solicitado_codeudor3__c,Cuota_credito_solicitado__c,Descuentos_de_nomina_u_otros_codeudor1__c,Descuentos_de_nomina_u_otros_codeudor2__c,Descuentos_de_nomina_u_otros_codeudor3__c,Descuentos_de_nomina_u_otros_pagos__c,Endeudamiento_financiero_cuota_propues__c,Endeudamiento_financiero_cuota_solic__c,Endeudamiento_financiero__c,Entidad2_codeudor1__c,Entidad2_prestamo_codeudor1__c,Entidad2_prestamo_deudor__c,Entidad2_sector_real_codeudor1__c,Entidad2_sector_real_deudor__c,Entidad2__c,Entidad_codeudor1__c,Entidad_codeudor2__c,Entidad_codeudor3__c,Entidad_prestamo_codeudor1__c,Entidad_prestamo_codeudor2__c,Entidad_prestamo_codeudor3__c,Entidad_prestamo__c,Entidad_sector_real_codeudor1__c,Entidad_sector_real_codeudor2__c,Entidad_sector_real_codeudor3__c,Entidad_sector_real__c,Entidad__c,Estado2_codeudor1__c,Estado2_prestamo_codeudor1__c,Estado2_prestamo_deudor__c,Estado2_sector_real_codeudor1__c,Estado2_sector_real_deudor__c,Estado2__c,Estado_codeudor1__c,Estado_codeudor2__c,Estado_codeudor3__c,Estado_prestamo_codeudor1__c,Estado_prestamo_codeudor2__c,Estado_prestamo_codeudor3__c,Estado_prestamo__c,Estado_sector_real_codeudor1__c,Estado_sector_real_codeudor2__c,Estado_sector_real_codeudor3__c,Estado_sector_real__c,Estado__c,Fecha_analisis__c,Fecha_cambio_de_condiciones__c,Fecha__c,Gastos_de_arriendo_codeudor1__c,Gastos_de_arriendo_codeudor2__c,Gastos_de_arriendo_codeudor3__c,Gastos_de_arriendo__c,Gastos_personales_codeudor1__c,Gastos_personales_codeudor2__c,Gastos_personales_codeudor3__c,Gastos_personales__c,Horas_extras_codeudor1__c,Horas_extras_codeudor2__c,Horas_extras_codeudor3__c,Horas_extras__c,Id,Id_Radicacion__c,Ingreso_actividad_principal_codeudor1__c,Ingreso_actividad_principal_codeudor2__c,Ingreso_actividad_principal_codeudor3__c,Ingreso_actividad_principal__c,Ingreso_bruto_total__c,Ingreso_neto_disponible_ajustado_total__c,Ingreso_neto_disponible_codeudor1__c,Ingreso_neto_disponible_codeudor2__c,Ingreso_neto_disponible_codeudor3__c,Ingreso_neto_parcial_codeudor1__c,Ingreso_neto_parcial_codeudor2__c,Ingreso_neto_parcial_codeudor3__c,Ingreso_neto_parcial__c,Ingreso_neto_total__c,Ingreso_requerido_bruto_para_credito__c,Name,Nombre_analista__c,No_de_consultas_ultimos_seis_codeudor1__c,No_de_consultas_ultimos_seis_codeudor2__c,No_de_consultas_ultimos_seis_codeudor3__c,No_de_consultas_ultimos_seis_meses__c,Obligaciones_financieras_codeudor1__c,Obligaciones_financieras_codeudor2__c,Obligaciones_financieras_codeudor3__c,Obligaciones_financieras__c,Otro_ingreso2_codeudor1__c,Otro_ingreso2_codeudor2__c,Otro_ingreso2_codeudor3__c,Otro_ingreso2__c,Otro_ingreso_codeudor1__c,Otro_ingreso_codeudor2__c,Otro_ingreso_codeudor3__c,Otro_ingreso__c,OwnerId,Puntaje_score_central_codeudor1__c,Puntaje_score_central_codeudor2__c,Puntaje_score_central_codeudor3__c,Puntaje_score_central_de_riesgo__c,Radicacion_de_credito__c,Relacion_credito_garantia__c,Saldo2_codeudor1__c,Saldo2_prestamo_codeudor1__c,Saldo2_prestamo_deudor__c,Saldo2_sector_real_codeudor1__c,Saldo2_sector_real_deudor__c,Saldo2__c,Saldo_codeudor1__c,Saldo_codeudor2__c,Saldo_codeudor3__c,Saldo_prestamo_codeudor1__c,Saldo_prestamo_codeudor2__c,Saldo_prestamo_codeudor3__c,Saldo_prestamo__c,Saldo_sector_real_codeudor1__c,Saldo_sector_real_codeudor2__c,Saldo_sector_real_codeudor3__c,Saldo_sector_real__c,Saldo__c,Total_egresos_codeudor1__c,Total_egresos_codeudor2__c,Total_egresos_codeudor3__c,Total_egresos__c,Total_ingresos_netos_parciales__c,Total_ingreso_bruto_codeudor1__c,Total_ingreso_bruto_codeudor2__c,Total_ingreso_bruto_codeudor3__c,Total_ingreso_bruto__c,Total_obligaciones_financieras__c,Valor_cuota_propuesta_ingreso_dispon__c,Valor_cuota_solicitada_ingreso_dispon__c,Valor_cuota_sugerida__c,Valor_cupo2_codeudor1__c,Valor_cupo2_prestamo_codeudor1__c,Valor_cupo2_prestamo_deudor__c,Valor_cupo2_sector_real_codeudor1__c,Valor_cupo2_sector_real_deudor__c,Valor_cupo2__c,Valor_cupo_codeudor1__c,Valor_cupo_codeudor2__c,Valor_cupo_codeudor3__c,Valor_cupo_prestamo_codeudor1__c,Valor_cupo_prestamo_codeudor2__c,Valor_cupo_prestamo_codeudor3__c,Valor_cupo_prestamo__c,valor_cupo_sector_real_codeudor1__c,Valor_cupo_sector_real_codeudor2__c,Valor_cupo_sector_real_codeudor3__c,Valor_cupo_sector_real__c,Valor_cupo__c,Valor_total_del_inmueble__c FROM Informacion_financiera__c WHERE Radicacion_de_credito__c != NULL LIMIT 1';
		
		List<sObject> lstObjetoOrigen = Database.query(strQuery);
		if(lstObjetoOrigen.size()==1)
		{
			sObject ObjetoOrigen = lstObjetoOrigen[0];
			ObjetoOrigen.put('Fecha_analisis__c',System.Today());
			
			CheckParentUpdate_cls CheckParentUpdate = new CheckParentUpdate_cls(ObjetoOrigen, 'Informacion_financiera__c' ,'Radicacion_de_credito__c' );
			
			CheckParentUpdate.CheckUpdate();
		}
    }
}